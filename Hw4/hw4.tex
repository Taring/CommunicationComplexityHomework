\documentclass[11pt, fleqn, a4paper]{report}
%a4paper : 21.0cm * 29.7cm

\usepackage{xeCJK}
\setCJKmainfont[BoldFont=STFangsong, ItalicFont=STKaiti]{STSong}
\setCJKsansfont[BoldFont=STHeiti]{STSong}
\setCJKmonofont{STFangsong}

\usepackage{amsmath}
\usepackage{amssymb,amsfonts}
\usepackage{tabularx}
%\usepackage{longtable}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{tikz}
\usepackage[T1]{fontenc}
\usepackage{upquote}
\usepackage[colorlinks, linkcolor=blue, anchorcolor=blue, citecolor=blue, urlcolor=blue]{hyperref}
\usepackage{ltxtable, filecontents}
\usepackage{mathrsfs}  

\setlength{\topmargin}{0cm}

\setlength{\oddsidemargin}{0.4cm}
\setlength{\evensidemargin}{0.4cm}
\setlength{\hoffset}{-0.2in}
\setlength{\textwidth}{440pt}
\setlength{\textheight}{650pt}
\setlength{\parindent}{0pt}
\setlength{\parskip}{5pt}

\setlength{\mathindent}{0pt}

\usepackage{color}
\usepackage{xcolor}
\usepackage{listings}

\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{lightgray}{\parbox{\textwidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{
	basicstyle=\footnotesize,
	breaklines=true,
	commentstyle=\color{mygreen},
	numbers=left,
	numbersep=5pt,
	numberstyle=\tiny\color{mygray},
	stringstyle=\color{mymauve},
	showstringspaces=false,
	showspaces=false,
	showtabs=false,
	tabsize=2,
	framexleftmargin=10mm,
	frame=none,
	backgroundcolor=\color[RGB]{245,245,244},
	keywordstyle=\bf\color{blue},
	identifierstyle=\bf,
	numberstyle=\color[RGB]{0,192,192},
	commentstyle=\it\color[RGB]{0,96,96},
	stringstyle=\rmfamily\slshape\color[RGB]{128,0,0}
}

\newcommand{\tabincell}[2]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}

\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}


\begin{document}

\begin{titlepage}
\vspace*{40mm}
\begin{center}
{\Huge Homework \quad 4}\\[30mm]

{\Large 5130309059 \quad \quad 李佳骏}\\[3mm]
\texttt{taringlee@sjtu.edu.cn}\\[10mm]

2015.11.1

\end{center}
\end{titlepage}

\section*{Exercise 4.8}
Thanks for my classmate Di Chen and Yu Gao to help me finish this problem.
\subsection*{Subproblem 1}
Express $B_{*}^{1}$ as a linear program. Use the duality theorem of linear programming to write its dual program.

Besides the definition $B_{*}^{1}(f) = \max_{\mu}{B_{\mu}(f)}$ and $ B_{\mu}(f) = \frac{1}{\max_R{\mu(R)}}$. We design a linear program $LP(f)$and to solve $\frac{1}{B_{*}^{1}(f)} = \min_{\mu}{\max_{R}{\mu(R)}}$. such that
\begin{itemize}
\item minimize value $k$
\item for all 1-rectangle R, $\sum_{(x,y)\in R}{\mu(x, y)} \leq k$
\item $\sum_{(x,y)}{\mu(x,y)} = 1$
\end{itemize}
And write it's dual program $DP(f)$:
\begin{itemize}
\item maximize value $k$
\item for all $(x, y)$, $\sum_{R \ni (x, y)}{v(R)} \geq k$
\item $\sum_{R}{v(R)} \leq 1$
\end{itemize}
While $v(R)$ is the value function of 1-rectangle R.

\subsection*{Subproblem 2}
Prove that $B_{*}^{1}(f \land g) = B_{*}^{1}(f)B_{*}^{1}(g)$(that is, Lemma 4.7 holds with equality)

Here we use $DP(f)$ to prove $B_{*}^{1}(f \land g) \leq B_{*}^{1}(f)B_{*}^{1}(g)$ which means we need to construct value function $v_{f \land g}(R)$ and maximize value $k_{f \land g}$ to satisfy $DP(f)$ and ensure the linearity of the program.

Assume that we have already know $v_{f}(R)$, $k_f$, $v_g(R)$, $k_{g}$. Hence we construct the operation of logical and.
$$v_{f \land g}(R_{f \land g}) = v_f{R_f} \cdot v_g{R_g}$$while $R_{f \land g}$ is generated by $R_f$ and $R_g$.
Thus we calculate $k_{f \land g} = \min_{R}{v_{f \land g}(R)} = k_{f} \cdot k_{g}$. It's also means the combine of minimum rectangle $R_f$ and $R_g$ can be construct to $R_{f \land g}$.  According to the definition, we can get $\frac{1}{B_{*}^{1}(f \land g)} \geq \frac{1}{B_{*}^{1}(f)} \cdot \frac{1}{B_{*}^{1}(g)}$, and multiple $-1$ to both sides of equation. we found $B_{*}^{1}(f \land g) \leq B_{*}^1(f) \cdot B_{*}^1(g)$

Finally, by using \textbf{Lemma 4.7}, $B_{*}^{1}(f \land g) \geq B_{*}^1(f) \cdot B_{*}^1(g)$. we prove it all.

\subsection*{Subproblem 3}
Prove that $B_{*}^{1}(f) \leq R^{1,pub}(f) + O(1)$

We also use $DP(f)$ to prove $B_{*}^{1}(f) \leq R^{1,pub}(f) + O(1)$, which means reconstruct the inequality $\frac{1}{B_{*}^{1}} \geq \frac{1}{c}\cdot\frac{1}{2^{R^{1,pub}(f)}}$, and $c$ is a constant. So, we need suitable value function $v_f(R)$and maximize value $k_f$ in the program.

Construct a deterministic protocol $\mathcal{P}$ and define $L(D)$ as the set of all 1-rectangle leaves in D. Assume that $$v_f(R) = \frac{1}{2^{R^{1,pub}(f)}}\sum_{L(D) \ni R}{\pi(D)}$$

Notice that there are at most $2^{R^{1,pub}(f)}$ leaves in $\mathcal{P}$, besides $\mathrm{Pr}[ R(x,y) = 1 \mid f(x,y) = 1 ] \geq \epsilon > 0$. For all $(x,y)$, $\sum_{R \ni (x, y)}{v_f(R)} \geq  \frac{1}{2^{R^{1,pub}(f)}} \cdot \epsilon$.

Finally, let the constant equal to $\frac{1}{\epsilon}$, we have $\frac{1}{B_{*}^{1}} \geq \frac{1}{c}\cdot\frac{1}{2^{R^{1,pub}(f)}}$. 

\section*{Exercise 4.21}
Show that $D(f) \geq \log_2{D^1(f)}$ and also $R(f) \geq \log_2{R^1(f)}$

\subsection*{Subproblem 1}
Prove $D(f) \geq \log_2{D^1(f)}$.

We build a 1-round protocol by the protocol of $f$ with $2^D(f)$ communication complexity. In this protocol, Alice sends $0$ or $1$ for each leaves. Alice sends $1$ for one leaf iff exists an appropriate $y$ of Bob to fetch the leaf. Otherwise, sends $0$. 

Hence, Bob can analysis these informations and simulate the protocol of $f$. When he should choose one sub-tree by using Alice's information, he just ensure which sub-tree's leaves can be fetched. Notice that there are at most one sub-tree existing $1$ leaves. So, Bob can determine the answer finally. And we say $2^{D(f)} \geq D^1(f)$. Thus $D(f) \geq \log_2{D^1(f)}$.

\subsection*{Subproblem 2}
Prove $R(f) \geq \log_2{R^1(f)}$.

We use an similar way to prove this subproblem. We also build a 1-round protocol by the protocol of $R(f)$. And both Alice and Bob would do same actions. Bob also can finish the protocol correctly. And we say $2^{R(f)} \geq R^1(f)$. Thus $R(f) \geq \log_2{R^1(f)}$.

\section*{Exercise 4.55}
Let $0 \leq d \leq \frac{n}{2}$. Let $S$ be the set of all pairs $(x, y)$ such that $x,y \in \{0,1\}^n$ and the Hamming distance between $x$ and $y$ is at most $d$. Prove that $D(S)$ and $D^1(S)$ are both $\Theta(\log{\binom{n}{d}})$.

Define the set $r_y : = \{x \mid \mathrm{Hamming}(x,y) \leq d\}$. And we know $\binom{n}{d} \leq |r_y| \leq (d + 1)\binom{n}{d}$. So, we should get the colour of each $x \in \{0,1\}^n$ called $c(x)$ satisfied for each $x_1\in r_t$ and $x_2 \in r_t$, $c(x_1) \neq c(x_2)$.

And we establish a protocol $\mathcal{P}$. Alice send $c(x)$, the colour of $x$, to Bob. And there are only one $c(x)$ colour in $r_y$. Bob determine the answer and announce it. Thus the complexity of $\mathcal{P}$ depends on the number of different colours.

Thus we find the number of colours is $|r_y|^2$ bounded by $ \binom{n}{d}^2$. Hence, $D(S)$ and $D^1(S)$ are both $\Theta(\log{\binom{n}{d}})$.



\end{document}